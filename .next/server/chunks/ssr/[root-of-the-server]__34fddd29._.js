module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},7107,a=>{"use strict";var b=a.i(83490);let c=async(a,c)=>(await b.default.post(`https://api.ganpatirudraakshaam.com/api/customer/${a}/wishlist`,{productId:c},{withCredentials:!0})).data;a.s(["removeWishlistApi",0,(a,c)=>b.default.delete(`https://api.ganpatirudraakshaam.com/api/customer/remove-wishlist/${a}/${c}`,{withCredentials:!0}),"toggleWishlistApi",0,c])},67137,a=>{"use strict";var b=a.i(83490);let c=async(a,c,d,e=1,f)=>(await b.default.post(`https://api.ganpatirudraakshaam.com/api/customer/${a}/cart`,{productId:c,variantId:d,quantity:e,priceAtTime:f},{withCredentials:!0})).data,d=async(a,c,d)=>(await b.default.delete(`https://api.ganpatirudraakshaam.com/api/customer/${a}/cart`,{data:{productId:c,variantId:d},withCredentials:!0})).data;a.s(["addToCartApi",0,c,"removeFromCartApi",0,d])},54385,a=>{"use strict";var b=a.i(71548);a.s(["Navigation",()=>b.default])},50465,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(91858);a.i(9068);var e=a.i(84850),f=a.i(54385),g=a.i(39154);function h(){return(0,b.jsxs)("div",{className:"relative max-w-300 mx-auto",children:[(0,b.jsx)(d.Swiper,{modules:[e.Autoplay,f.Navigation],autoplay:{delay:4e3,disableOnInteraction:!1},loop:!0,navigation:{nextEl:".banner1-next",prevEl:".banner1-prev"},className:"h-[200px] sm:h-[300px] md:h-[350px] lg:h-[400px] mt-[-60px] mb-[-60px] md:mt-0 md:mb-0",children:["/slider/homeslider1.png","/slider/homeslider1.png","/slider/homeslider1.png","/slider/homeslider1.png"].map((a,e)=>(0,b.jsx)(d.SwiperSlide,{children:(0,b.jsx)("div",{className:"relative h-full w-full",children:(0,b.jsx)(c.default,{src:a,alt:`Banner ${e+1}`,fill:!0,priority:0===e,className:"object-contain md:object-cover"})})},e))}),(0,b.jsx)("button",{className:"banner1-prev absolute left-0 top-1/2 z-10 -translate-y-1/2 bg-white/80 py-6 shadow hover:bg-white rounded-tr-[12px] rounded-br-[12px] ",children:(0,b.jsx)(g.BiChevronLeft,{size:20,className:"text-black"})}),(0,b.jsx)("button",{className:"banner1-next absolute right-0 top-1/2 z-10 -translate-y-1/2 bg-white/80 py-6 shadow hover:bg-white rounded-tl-[12px] rounded-bl-[12px]",children:(0,b.jsx)(g.BiChevronRight,{size:20,className:"text-black"})})]})}a.s(["default",()=>h])},60876,a=>{"use strict";var b=a.i(87924),c=a.i(71987),d=a.i(91858);a.i(9068);var e=a.i(84850),f=a.i(54385),g=a.i(39154);function h(){return(0,b.jsx)("section",{className:"max-w-300 mx-auto md:px-0 px-4 py-12",children:(0,b.jsxs)("div",{className:"relative",children:[(0,b.jsx)(d.Swiper,{modules:[e.Autoplay,f.Navigation],autoplay:{delay:3500,disableOnInteraction:!1},loop:!0,spaceBetween:16,navigation:{nextEl:".banner2-next",prevEl:".banner2-prev"},breakpoints:{0:{slidesPerView:2},768:{slidesPerView:3}},children:["/slider/rudrakshbracelate.png","/slider/rudrakshrosaries.png","/slider/trademarks.png","/slider/rudrakshbracelate.png","/slider/rudrakshrosaries.png","/slider/trademarks.png"].map((a,e)=>(0,b.jsx)(d.SwiperSlide,{children:(0,b.jsx)("div",{className:"relative w-full h-[100px] sm:h-[200px] lg:h-[260px] rounded overflow-hidden ",children:(0,b.jsx)(c.default,{src:a,alt:`Image ${e+1}`,fill:!0,className:"object-container"})})},e))}),(0,b.jsx)("button",{className:"   banner2-prev absolute left-0 top-1/2 -translate-y-1/2 z-10   bg-white/80 shadow hover:bg-white   rounded-tr-[12px] rounded-br-[12px]   py-5 md:py-6 px-1   ",children:(0,b.jsx)(g.BiChevronLeft,{className:"w-3 h-3 md:w-4 md:h-4"})}),(0,b.jsx)("button",{className:"   banner2-next absolute right-0 top-1/2 -translate-y-1/2 z-10   bg-white/80 shadow hover:bg-white   rounded-tl-[12px] rounded-bl-[12px]   py-5 md:py-6 px-1    ",children:(0,b.jsx)(g.BiChevronRight,{className:"w-3 h-3 md:w-4 md:h-4"})})]})})}a.s(["default",()=>h])},30091,a=>{"use strict";var b=a.i(87924);a.s(["default",0,()=>(0,b.jsxs)("div",{role:"status",className:"animate-pulse w-full max-w-sm md:max-w-full",children:[(0,b.jsx)("div",{className:"block md:hidden h-48 w-full bg-gray-300 dark:bg-neutral-quaternary rounded-xl mb-4"}),(0,b.jsxs)("div",{className:"w-full",children:[(0,b.jsx)("div",{className:"h-4 md:h-2.5 bg-gray-300 dark:bg-neutral-quaternary rounded-full w-3/4 md:w-48 mb-4"}),(0,b.jsx)("div",{className:"h-3 md:h-2 bg-gray-300 dark:bg-neutral-quaternary rounded-full mb-2.5"}),(0,b.jsx)("div",{className:"h-3 md:h-2 bg-gray-300 dark:bg-neutral-quaternary rounded-full w-5/6 mb-2.5"}),(0,b.jsx)("div",{className:"h-3 md:h-2 bg-gray-300 dark:bg-neutral-quaternary rounded-full w-4/6"})]}),(0,b.jsx)("span",{className:"sr-only",children:"Loading..."})]})])},91603,a=>{"use strict";var b=a.i(87924),c=a.i(43128),d=a.i(71987),e=a.i(50944);function f({categories:a}){let c=(0,e.useRouter)(),f=(0,e.useSearchParams)().get("category"),g=a=>{c.push(`/products?category=${encodeURIComponent(a)}`)};return(0,b.jsxs)("aside",{className:"sticky top-24  overflow-hidden flex flex-col",children:[(0,b.jsx)("h1",{className:"text-define-black font-semibold text-center py-2 hidden lg:block",children:f}),(0,b.jsx)("div",{className:"h-full overflow-y-auto py-4 no-scrollbar flex flex-col gap-1 md:gap-3",children:a?.map(a=>(0,b.jsxs)("div",{className:"",children:[(0,b.jsxs)("div",{onClick:()=>g(a.parent.name),className:`w-full lg:w-full flex flex-col max-md:justify-center items-center md:gap-1 gap-1 text-left cursor-pointer
              ${f===a.parent.name?"border-r-3 border-define-red":"hover:bg-gray-100"}
            `,children:[(0,b.jsx)("div",{className:"relative size-10 md:size-12 xl:size-14 xxl:size-16 shrink-0",children:(0,b.jsx)(d.default,{src:a.parent.image,alt:a.parent.name,fill:!0,className:"object-cover rounded-xl"})}),(0,b.jsx)("span",{className:"text-xs",children:a.parent.name})]}),(0,b.jsx)("div",{className:" ",children:a.subCategories.map(a=>(0,b.jsxs)("button",{onClick:()=>g(a.name),className:`w-full lg:w-full flex flex-col lg:flex-row  items-center md:gap-3 gap-1 rounded-md p-2
                  ${f===a.name?"bg-defined-green/10":"hover:bg-gray-100"}
                `,children:[(0,b.jsx)("div",{className:"relative size-12 md:size-12 xl:size-14 xxl:size-16 shrink-0",children:(0,b.jsx)(d.default,{src:a.image,alt:a.name,fill:!0,className:"object-cover rounded"})}),(0,b.jsx)("span",{className:"text-xs md:text-sm text-center md:text-left md:font-semibold text-gray-700",children:a.name})]},a.id??a.name))})]},a.parent.id))})]})}var g=a.i(92836),h=a.i(72131),i=a.i(61832),j=a.i(30091),k=a.i(328),l=a.i(48617);function m({activeCategory:a,activeBrand:d,activeAttribute:e,searchQuery:m}){let{categories:n}=(0,g.useCategories)(),[o,p]=(0,h.useState)("popularity"),[q,r]=(0,h.useState)([]),[s,t]=(0,h.useState)(1),[u,v]=(0,h.useState)(!0),{ref:w,inView:x}=(0,i.useInView)({threshold:.1}),[y,z]=(0,h.useState)(!0),[A,B]=(0,h.useState)(!1),[C,D]=(0,h.useState)("");console.log(q);let E=[{name:"Popularity",type:"popularity"},{name:"Price : Low to High",type:"low-high"},{name:"Price : High to Low",type:"high-low"},{name:"Newest First",type:"newest"}];(0,h.useEffect)(()=>{let a=setTimeout(()=>{D(m)},500);return()=>clearTimeout(a)},[m]);let F=async(b=1)=>{1===b?v(!0):B(!0);try{let c=new URL("https://api.ganpatirudraakshaam.com/api/product?status=Active");c.searchParams.set("page",String(b)),c.searchParams.set("limit",String(10)),a&&c.searchParams.append("category",a),d&&c.searchParams.append("brand",d),e&&c.searchParams.append("attribute",e),C.trim()&&c.searchParams.append("q",C.trim());let f=await fetch(c.toString(),{cache:"no-store"}),g=await f.json(),h=g?.data||[],i=g?.pagination?.totalPages||1;1===b?r(h):r(a=>{let b=new Set(a.map(a=>a._id)),c=h.filter(a=>!b.has(a._id));return[...a,...c]}),z(b<i)}catch(a){console.error(a),1===b&&r([])}finally{v(!1),B(!1)}};(0,h.useEffect)(()=>{t(1),z(!0),r([]),F(1)},[a,d,e,C]),(0,h.useEffect)(()=>{if(x&&!u&&!A&&y){let a=s+1;t(a),F(a)}},[x,u,A,y]);let G=(0,h.useMemo)(()=>{let a=[...q];switch(o){case"low-high":return a.sort((a,b)=>a.price-b.price);case"high-low":return a.sort((a,b)=>b.price-a.price);case"newest":return a.sort((a,b)=>new Date(b.createdAt).getTime()-new Date(a.createdAt).getTime());default:return a.sort((a,b)=>new Date(b.updatedAt).getTime()-new Date(a.updatedAt).getTime())}},[q,o]);return(0,b.jsx)("section",{className:"md:py-8 max-w-300 px-4 mx-auto flex flex-col",children:(0,b.jsxs)("div",{className:"flex justify-between items-start mb-4 p-2 min-h-[50rem]",children:[(0,b.jsx)("div",{className:"w-[20%] lg:w-[10%] bg-white h-full",children:(0,b.jsx)(f,{categories:n})}),(0,b.jsxs)("div",{className:"w-[90%] flex flex-col h-full",children:[(0,b.jsx)("div",{className:"md:hidden flex  items-center  md:px-0",children:(0,b.jsxs)("div",{className:"relative w-fit rounded border border-gray-200 bg-white",children:[(0,b.jsx)(l.IoFilterSharp,{size:16,className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500"}),(0,b.jsxs)("select",{name:"filter",onChange:a=>p(a.target.value),className:"relative z-10 w-full appearance-none bg-transparent py-1 pl-9 pr-8 text-sm text-gray-600 outline-none cursor-pointer",children:[(0,b.jsx)("option",{value:"",hidden:!0,children:"Sort By"}),E.map(a=>(0,b.jsx)("option",{value:a.type,children:a.name},a.type))]}),(0,b.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-400",children:(0,b.jsx)(k.MdKeyboardDoubleArrowDown,{})})]})}),(0,b.jsxs)("div",{className:"hidden md:flex flex-wrap items-center gap-3 rounded bg-white p-4 shadow-sm",children:[(0,b.jsx)("span",{className:"text-sm text-gray-600",children:"Sort By"}),E.map(a=>{let c;return(0,b.jsx)("button",{className:(c=a.type,`rounded-full border border-define-red px-4 py-1 text-xs transition ${o===c?"bg-define-red text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`),onClick:()=>p(a.type),children:a.name},a.type)})]}),(0,b.jsx)("div",{className:"grid grid-cols-2 gap-1 md:gap-4  lg:grid-cols-4 xxl:grid-cols-4 bg-white",children:u?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{})]}):G.length>0?G.map(a=>(0,b.jsx)(c.default,{...a,_id:a._id},a._id)):(0,b.jsx)("p",{className:"col-span-full text-center py-20 text-gray-500",children:"No products found"})}),!u&&y&&(0,b.jsxs)("div",{ref:w,className:"grid grid-cols-3 gap-4",children:[(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{}),(0,b.jsx)(j.default,{})]})]})]})})}a.s(["default",()=>m],91603)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__34fddd29._.js.map