module.exports=[56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},92709,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(71987),e=a.i(46086),f=a.i(50944),g=a.i(6704),h=a.i(83490),i=a.i(31173);function j({productDetails:a}){let[j,k]=(0,c.useState)(0),[l,m]=(0,c.useState)(0),[n,o]=(0,c.useState)(""),[p,q]=(0,c.useState)(""),[r,s]=(0,c.useState)([]),t=(0,c.useRef)(null),{customer:u}=(0,e.useCustomer)(),v=(0,f.useRouter)();async function w(){try{if(!a)return alert("Product not found");if(n.length<=0||n.length>70)return g.default.error("Title must be between 1 and 70 characters");if(p.length<=0||p.length>300)return g.default.error("Description must be between 1 and 300 characters");let b=new FormData;b.append("title",n),b.append("description",p),b.append("rating",j.toString()),r.forEach(a=>{b.append("images",a)}),b.append("productId",a?._id??""),b.append("customerId",u?._id??"");let{status:c,data:d}=await h.default.post("https://api.ganpatirudraakshaam.com/api/review",b,{headers:{"Content-Type":"multipart/form-data"}});if(201===c){g.default.success("Review submitted successfully"),s([]),o(""),q(""),k(0),m(0),v.push("/my-orders");return}throw Error(d.message)}catch(a){console.error(a),g.default.error(a.response?.data?.message??a.message??"Failed to submit review")}}return(0,c.useEffect)(()=>()=>{r.forEach(a=>{a.preview&&URL.revokeObjectURL(a.preview)})},[]),(0,b.jsxs)("div",{className:"max-w-225 mx-auto bg-white px-4 rounded-md shadow-sm py-8 md:my-6",children:[(0,b.jsxs)("div",{className:"flex gap-4 border-b border-gray-300 pb-4",children:[(0,b.jsx)("div",{className:"relative w-24 h-24 border border-gray-300 rounded",children:(0,b.jsx)(d.default,{src:a?.coverImage?.url??"",alt:"Product",fill:!0,className:"object-cover"})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-medium text-gray-800",children:a?.name}),(0,b.jsx)("p",{className:"text-sm text-gray-500",children:a?.brand?.name})]})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("p",{className:"font-medium mb-2",children:"Rate this product"}),(0,b.jsx)("div",{className:"flex gap-1",children:[1,2,3,4,5].map(a=>(0,b.jsx)("button",{type:"button",onClick:()=>k(a),onMouseEnter:()=>m(a),onMouseLeave:()=>m(0),children:(0,b.jsx)(i.IoMdStar,{size:28,className:`${a<=(l||j)?"fill-yellow-400 text-yellow-400":"text-gray-300"}`})},a))})]}),(0,b.jsxs)("div",{className:"mt-6",children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Review title"}),(0,b.jsx)("input",{type:"text",placeholder:"Eg: Very good product",className:"w-full border   border-gray-300 rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-define-red",onChange:a=>o(a.target.value),value:n})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Your review"}),(0,b.jsx)("textarea",{rows:4,value:p,onChange:a=>q(a.target.value),placeholder:"Share details of your experience",className:"w-full border  border-gray-300  rounded px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-define-red"})]}),(0,b.jsxs)("div",{className:"mt-4",children:[(0,b.jsx)("p",{className:"text-sm font-medium mb-1",children:"Supported Files (optional)"}),(0,b.jsxs)("label",{className:"inline-flex items-center gap-2 px-4 py-2 border  border-gray-300 rounded cursor-pointer text-sm hover:bg-gray-50",children:[(0,b.jsx)("input",{type:"file",ref:t,multiple:!0,hidden:!0,accept:"image/*,video/*",onChange:a=>{let b=a.target.files;if(!b)return;let c=Array.from(b).map(a=>((a.type.startsWith("image/")||a.type.startsWith("video/"))&&(a.preview=URL.createObjectURL(a)),a));s(a=>[...a,...c]),t.current&&(t.current.value="")}}),"ðŸ“· Upload Photos / Videos"]}),(0,b.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-3 mt-2",children:r.map((a,c)=>(0,b.jsxs)("div",{className:"relative group border border-gray-200 rounded-lg overflow-hidden bg-gray-50 hover:bg-gray-100 transition-all",children:[(0,b.jsx)("button",{type:"button",onClick:()=>{let a;(a=r[c]).preview&&URL.revokeObjectURL(a.preview),s(a=>a.filter((a,b)=>b!==c))},className:"absolute top-1 right-1 z-10 w-6 h-6 text-red-500 flex items-center justify-center text-xs hover:text-red-600 transition-colors","aria-label":`Remove ${a.name}`,children:(0,b.jsx)(i.IoMdClose,{})}),(0,b.jsx)("div",{className:"aspect-square flex items-center justify-center",children:a.type.startsWith("image/")&&a.preview?(0,b.jsx)("img",{src:a.preview,alt:a.name,className:"w-full h-full object-cover"}):a.type.startsWith("video/")&&a.preview?(0,b.jsxs)("div",{className:"relative w-full h-full",children:[(0,b.jsx)("video",{src:a.preview,className:"w-full h-full object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,b.jsx)("span",{className:"text-3xl",children:"ðŸŽ¬"})})]}):(0,b.jsx)("div",{className:"flex flex-col items-center justify-center p-4",children:(0,b.jsx)("span",{className:"text-2xl mb-2",children:a.type.startsWith("image/")?"ðŸ–¼ï¸":a.type.startsWith("video/")?"ðŸŽ¬":"ðŸ“„"})})})]},`${a.name}-${c}`))})]}),(0,b.jsx)("div",{className:"mt-6 flex justify-end",children:(0,b.jsx)("button",{type:"button",onClick:w,className:"   mt-3 sm:mt-auto flex items-center justify-center gap-2   text-white font-semibold   text-xs sm:text-sm md:text-[15px]   px-3 py-1.5 sm:px-4 sm:py-2 md:px-5   rounded-full   btn-grad    active:scale-95   w-full sm:w-fit   ",children:"Submit Review"})})]})}a.s(["default",()=>j])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__80c06835._.js.map