(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,18566,(e,t,a)=>{t.exports=e.r(76562)},79469,e=>{"use strict";var t=e.i(81949);let a=async(e,a,r,s=1,i)=>(await t.default.post(`https://api.ganpatirudraakshaam.com/api/customer/${e}/cart`,{productId:a,variantId:r,quantity:s,priceAtTime:i},{withCredentials:!0})).data,r=async(e,a,r)=>(await t.default.delete(`https://api.ganpatirudraakshaam.com/api/customer/${e}/cart`,{data:{productId:a,variantId:r},withCredentials:!0})).data;e.s(["addToCartApi",0,a,"removeFromCartApi",0,r])},90965,e=>{"use strict";var t=e.i(81949);let a=async(e,a)=>(await t.default.post(`https://api.ganpatirudraakshaam.com/api/customer/${e}/wishlist`,{productId:a},{withCredentials:!0})).data;e.s(["removeWishlistApi",0,(e,a)=>t.default.delete(`https://api.ganpatirudraakshaam.com/api/customer/remove-wishlist/${e}/${a}`,{withCredentials:!0}),"toggleWishlistApi",0,a])},46124,e=>{"use strict";e.s(["allowOnlyNumbers",0,e=>{let t=e.key;"Backspace"!==t&&"Delete"!==t&&"ArrowLeft"!==t&&"ArrowRight"!==t&&"Tab"!==t&&(/^[0-9]$/.test(t)||e.preventDefault())},"blockNumbersInText",0,e=>{let t=e.key;"Backspace"!==t&&"Delete"!==t&&"ArrowLeft"!==t&&"ArrowRight"!==t&&"Tab"!==t&&/^[0-9]$/.test(t)&&e.preventDefault()}])},34342,e=>{"use strict";var t=e.i(43476),a=e.i(46124);e.s(["default",0,function({form:e,onChange:r}){let s=(t,a)=>r({...e,[t]:a});async function i(t){if(6===t.length)try{let a=await fetch(`https://api.ganpatirudraakshaam.com/api/pickup/location/${t}`);if(!a.ok)return;let s=await a.json(),i=s?.PostOffice||(Array.isArray(s)?s[0]?.PostOffice:null);i?.length>0&&r({...e,pin:t,city:i[0]?.District||"",state:i[0]?.State||""})}catch(e){console.error("Error fetching pin code details:",e)}}return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-gray-700",children:[(0,t.jsx)("input",{placeholder:"Name",value:e.name,onChange:e=>s("name",e.target.value),onKeyDown:a.blockNumbersInText,className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"tel",placeholder:"Mobile Number",value:e.mobile,maxLength:10,onKeyDown:a.allowOnlyNumbers,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&!(t.length>10)&&s("mobile",t)},className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),e.mobile&&e.mobile.length<10&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Must be 10 digits"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"tel",placeholder:"Pin Code",value:e.pin,maxLength:6,onKeyDown:a.allowOnlyNumbers,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&!(t.length>6)&&(s("pin",t),6===t.length&&i(t))},className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),e.pin&&e.pin.length<6&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Must be 6 digits"})]}),(0,t.jsx)("input",{placeholder:"Area",value:e.area,onChange:e=>s("area",e.target.value),onKeyDown:a.blockNumbersInText,className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),(0,t.jsx)("input",{placeholder:"City",value:e.city,onChange:e=>s("city",e.target.value),onKeyDown:a.blockNumbersInText,className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),(0,t.jsx)("input",{placeholder:"State",value:e.state,onChange:e=>s("state",e.target.value),onKeyDown:a.blockNumbersInText,className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),(0,t.jsx)("input",{placeholder:"Landmark",value:e.landmark||"",onChange:e=>s("landmark",e.target.value),onKeyDown:a.blockNumbersInText,className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("input",{type:"tel",placeholder:"Alternative Phone",value:e.alternateMobile||"",maxLength:10,onKeyDown:a.allowOnlyNumbers,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&!(t.length>10)&&s("alternateMobile",t)},className:"border border-gray-200 rounded-md px-4 py-3 text-sm w-full outline-none"}),e.alternateMobile&&e.alternateMobile.length>0&&e.alternateMobile.length<10&&(0,t.jsx)("p",{className:"text-xs text-red-500 mt-1",children:"Must be 10 digits"})]})]}),(0,t.jsx)("div",{className:"mt-4 flex gap-6 text-sm text-defined-green",children:["Home","Office","Others"].map(a=>(0,t.jsxs)("label",{className:"flex items-center gap-2 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",checked:e.type===a,onChange:()=>s("type",a)}),a]},a))})]})}])},78211,e=>{"use strict";e.i(47167);var t=e.i(43476),a=e.i(57688),r=e.i(19158),s=e.i(79469),i=e.i(71645),n=e.i(5766),l=e.i(18566),d=e.i(62443),o=e.i(90965),c=e.i(10936),u=e.i(11152),m=e.i(34342);let x={name:"",mobile:"",alternateMobile:"",pin:"",area:"",city:"",state:"",landmark:"",type:"Home"};function p({onClose:e,onSuccess:a}){let{customer:s}=(0,r.useCustomer)(),[l,d]=(0,i.useState)(x),[o,c]=(0,i.useState)(!1),u=async()=>{if(s?._id){let e,t,r;if(!l.name||!l.mobile||!l.pin||!l.area||!l.city||!l.state)return void n.default.error("Please fill all required fields");if(e=l.mobile,!/^\d{10}$/.test(e))return void n.default.error("Mobile must be 10 digits");if(l.alternateMobile&&(t=l.alternateMobile,!/^\d{10}$/.test(t)))return void n.default.error("Alternate mobile must be 10 digits");if(r=l.pin,!/^\d{6}$/.test(r))return void n.default.error("Pin code must be 6 digits");try{c(!0),s.addresses;let e=await fetch(`https://api.ganpatirudraakshaam.com/api/customer/${s._id}/address`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(l)}),t=await e.json();if(!e.ok||!t.address?._id)throw Error("Failed to add address");n.default.success("Address added"),a(t.address._id)}catch(e){console.error(e),n.default.error("Failed to save address")}finally{c(!1)}}};return(0,t.jsx)("div",{className:"fixed inset-0 z-[999] flex items-center justify-center bg-black/40",children:(0,t.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-md p-6 relative animate-fadeIn",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,t.jsx)("h2",{className:"text-lg font-semibold text-defined-black",children:"Add New Address"}),(0,t.jsx)("button",{onClick:e,className:"text-gray-500 hover:text-red-500 text-xl",children:"✕"})]}),(0,t.jsx)(m.default,{form:l,onChange:e=>d(e)}),(0,t.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,t.jsx)("button",{onClick:e,className:"px-5 py-2 rounded-md text-sm border border-gray-300",children:"Cancel"}),(0,t.jsx)("button",{onClick:u,disabled:o,className:`px-6 py-2 rounded-md text-sm text-white ${o?"bg-gray-400 cursor-not-allowed":"bg-define-red hover:bg-red-700"}`,children:o?"Saving...":"Save & Deliver Here"})]})]})})}async function h(){return new Promise((e,t)=>{if(window.Razorpay)return e();let a=document.createElement("script");a.src="https://checkout.razorpay.com/v1/checkout.js",a.onload=()=>e(),a.onerror=()=>t(Error("Failed to load Razorpay SDK")),document.body.appendChild(a)})}function f(){let[e,m]=(0,i.useState)([]),[x,f]=(0,i.useState)(null),[b,g]=(0,i.useState)(0),[y,j]=(0,i.useState)(""),[v,w]=(0,i.useState)(!1),[N,k]=(0,i.useState)(!1),[I,S]=(0,i.useState)(null),C=(0,l.useRouter)(),[_,D]=(0,i.useState)(!1),{customer:A,refreshCustomer:T}=(0,r.useCustomer)(),O=A?._id,[M,E]=(0,i.useState)(""),L=(0,l.useSearchParams)(),$=L.get("mode"),F=A?.addresses||[],R=F.find(e=>e.type?.toLowerCase()==="home")||F[0],q=F.find(e=>e._id===I)||R,[P,z]=(0,i.useState)([]);(0,i.useEffect)(()=>{if(A){if("buy-now"===$){let e=sessionStorage.getItem("BUY_NOW_ITEM");if(!e)return void z([]);let t=JSON.parse(e);z([{productId:t.productId,variantId:t.variantId,quantity:t.quantity,priceAtTime:t.price}])}else if("cart"===$){let e=L.get("items");if(e)return void z(JSON.parse(decodeURIComponent(e)).map(e=>{let t=(A.cart||[]).find(t=>t.productId._id===e.productId);if(!t)return null;let a=t.productId.stock||0;return 0===a||e.quantity>a?null:{productId:t.productId,variantId:t.variantId,quantity:e.quantity,priceAtTime:e.priceAtTime}}).filter(Boolean));z((A.cart||[]).filter(e=>{let t=e.productId.stock||0;return t>0&&e.quantity<=t}))}}},[$,A,L]);let B=async()=>{if(!O)return;let e=sessionStorage.getItem("BUY_NOW_ITEM");if(!e)return;let t=JSON.parse(e);try{await (0,s.removeFromCartApi)(O,t.productId,t.variantId),sessionStorage.removeItem("BUY_NOW_ITEM"),await T()}catch(e){console.error("Failed to remove buy-now item from cart",e)}},K=e=>{let t=e.productId.stock||0;return 0===t?"out":t<=3?"low":"available"},W=P.filter(e=>"out"!==K(e)),U=W.reduce((e,t)=>e+Math.round((t.productId.mrp||0)*t.quantity),0),H=W.reduce((e,t)=>{let a=t.productId;return e+Math.round((a.mrp||0)*(a.discount||0)/100)*t.quantity},0),J=U-H,V=W.reduce((e,t)=>e+t.quantity,0),Y=P.some(e=>"out"===K(e));W.reduce((e,t)=>e+(t.productId.price||0)*t.quantity,0);let G=async()=>{if(Y)return void n.default.error("Please remove out-of-stock items before payment");try{await h();let e=await fetch("https://api.ganpatirudraakshaam.com/api/order/razorpay/create",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({amount:Math.max(J-b,0),currency:"INR"})}),t=await e.json();if(!t.success)return void alert("Failed to create Razorpay order");let{order:a,key:r}=t,s={key:r,amount:a.amount,currency:a.currency,name:"Pri Priya Nursery",description:"Order Payment",order_id:a.id,handler:async e=>{let t=await fetch("https://api.ganpatirudraakshaam.com/api/order/razorpay/verify",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({razorpay_order_id:e.razorpay_order_id,razorpay_payment_id:e.razorpay_payment_id,razorpay_signature:e.razorpay_signature,customer:O,mobile:A?.mobile,address:q,items:P.map(e=>({product:e.productId._id,quantity:e.quantity,price:e.productId.price})),couponCode:x?.code,couponDiscount:b,orderValue:J-b})}),a=await t.json();if(a.success){n.default.success("Payment successful & verified!"),"buy-now"===$&&await B();let e=a.paymentGroupId,t=a.orders.join(",");C.push(`/thank-you?payment=${e}&order=${t}`),await T()}else n.default.error("Payment verification failed")},prefill:{name:A?.name,contact:A?.mobile},theme:{color:"#16a34a"}};new window.Razorpay(s).open()}catch(e){console.error(e),alert("Payment failed")}},Q=(e,t,a)=>{if(!(a<1)&&(z(r=>r.map(r=>{if(r.productId._id!==e||r.variantId?._id!==t)return r;let s=r.productId.stock||0;return a>s?(n.default.error(`Only ${s} items available`),r):{...r,quantity:a}})),"buy-now"===$)){let e=sessionStorage.getItem("BUY_NOW_ITEM");if(e){let t=JSON.parse(e);sessionStorage.setItem("BUY_NOW_ITEM",JSON.stringify({...t,quantity:a}))}}},X=async e=>{if(O)try{await (0,o.toggleWishlistApi)(O,e.productId._id),await (0,s.removeFromCartApi)(O,e.productId?._id,e.variantId?._id),await T(),n.default.success("Moved to wishlist")}catch(e){console.error(e),n.default.error("Failed to move to wishlist")}},Z=async e=>{O&&(await (0,s.removeFromCartApi)(O,e.productId._id,e.variantId?._id),await T())};(0,i.useEffect)(()=>{J<=0||(async()=>{try{let e=await fetch(`https://api.ganpatirudraakshaam.com/api/coupon?min=${J}&expire=${new Date().toISOString()}`),t=await e.json();m(t.coupons||[])}catch(e){console.error("Failed to fetch coupons",e)}})()},[J]);let ee=async()=>{await (0,d.logout)(),C.replace("/")};(0,i.useEffect)(()=>{q&&!I&&S(q._id)},[q,I]);let et=e=>{let t=0;t="percentage"===e.discountType?Math.round(J*e.discountValue/100):Math.round(e.discountValue),e.maxDiscountAmount&&(t=Math.min(t,e.maxDiscountAmount)),f(e),g(t),j(`Coupon ${e.code} applied`)},ea=Math.max(Math.round(J-b),0);return((0,i.useEffect)(()=>{let e=sessionStorage.getItem("SELECTED_ADDRESS_ID");e&&F.some(t=>t._id===e)?S(e):R?._id&&S(R._id)},[F]),P.length)?(0,t.jsxs)("div",{className:"max-w-300 px-4 mx-auto grid grid-cols-1 lg:grid-cols-3 py-6 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-col text-define-black bg-white rounded-md p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"font-medium text-sm lg:text-base",children:"Login"}),v?null:(0,t.jsxs)("button",{onClick:()=>w(!0),className:"text-define-black flex flex-row gap-2 items-center text-xs lg:text-sm p-1 px-3 bg-yellow-500  rounded",children:[(0,t.jsx)(c.IoMdSync,{})," Change Account"]})]}),v?(0,t.jsxs)("div",{className:"mt-3 flex justify-between items-center",children:[(0,t.jsx)("button",{onClick:ee,className:"text-red-500 lg:text-sm text-xs underline",children:"Logout & sign in to different account"}),(0,t.jsx)("button",{onClick:()=>w(!1),className:"text-xs lg:text-base p-1 lg:p-2 bg-define-brown text-white rounded",children:"Continue Checkout"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:"font-semibold text-sm lg:text-base",children:A?.name}),(0,t.jsxs)("p",{className:"text-xs lg:text-base",children:["+",A?.mobile," | ",A?.email]})]})]}),(0,t.jsxs)("div",{className:"flex flex-col text-define-black bg-white rounded-md p-4 mt-2",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsx)("p",{className:"font-medium text-sm lg:text-base",children:"Delivery Address"}),N?(0,t.jsxs)("button",{onClick:()=>D(!0),className:"text-define-black flex flex-row gap-2 items-center text-xs lg:text-sm p-1 px-3 bg-yellow-500  rounded",children:[(0,t.jsx)(u.FaPlus,{}),"Add New Address"]}):(0,t.jsxs)("button",{onClick:()=>k(!0),className:"text-define-black flex flex-row gap-2 items-center text-xs lg:text-sm p-1 px-3 bg-yellow-500  rounded",children:[(0,t.jsx)(c.IoMdSync,{})," Change Address"]})]}),!N&&q&&(0,t.jsxs)("div",{className:"mt-2 text-xs lg:text-base",children:[(0,t.jsxs)("p",{className:"font-semibold flex gap-2 items-center",children:[q.name,(0,t.jsxs)("span",{className:"bg-gray-200 text-gray-400 ml-1 px-1 text-xs",children:[" ",q.type.toLocaleUpperCase()]})," ","+",q.mobile]}),(0,t.jsxs)("p",{children:[q.area,", ",q.city,","," ",q.state," – ",q.pin]})]}),N&&(0,t.jsxs)("div",{className:"mt-3 space-y-3 text-xs lg:text-base",children:[F.map(e=>(0,t.jsxs)("label",{className:"flex gap-3 border border-gray-200 rounded-md p-3 cursor-pointer",children:[(0,t.jsx)("input",{type:"radio",name:"address",checked:I===e._id,onChange:()=>{S(e._id),sessionStorage.setItem("SELECTED_ADDRESS_ID",e._id)},className:"mt-1"}),(0,t.jsxs)("div",{className:"text-xs lg:text-base",children:[(0,t.jsxs)("p",{className:"font-semibold",children:[e.name," (",e.type,")"]}),(0,t.jsx)("p",{children:e.addressLine}),(0,t.jsxs)("p",{children:[e.city,", ",e.state," – ",e.pincode]}),(0,t.jsxs)("p",{className:"mt-1",children:["Mobile: ",e.mobile]})]})]},e._id)),(0,t.jsx)("div",{className:"flex justify-end",children:(0,t.jsx)("button",{onClick:()=>{I&&sessionStorage.setItem("SELECTED_ADDRESS_ID",I),k(!1)},className:"text-xs lg:text-base p-1 lg:p-2 bg-define-brown text-white rounded",children:"Deliver Here"})})]})]}),P.slice().reverse().map((e,r)=>{let s=K(e),i=e.productId.stock||0,n="out"===s,l=e.quantity<i,d=e.productId,o=d.price*e.quantity,c=d.mrp*e.quantity;return(0,t.jsxs)("div",{className:"flex flex-col md:flex-row bg-white border border-gray-200 rounded-md p-4 gap-4",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center w-full md:w-40",children:[(0,t.jsx)("div",{className:"relative w-full h-72 md:h-40 bg-gray-100 rounded overflow-hidden",children:(0,t.jsx)(a.default,{src:e.productId.coverImage.url,alt:e.productId.name,fill:!0,className:"object-cover"})}),(0,t.jsxs)("div",{className:"md:flex hidden items-center mt-2 ",children:[(0,t.jsx)("button",{onClick:()=>Q(e.productId._id,e.variantId?._id,e.quantity-1),className:"px-4 py-2 border text-define-black border-gray-200 rounded-full hover:bg-gray-100",children:"−"}),(0,t.jsx)("span",{className:"px-4 py-1 border text-define-black border-gray-200 mx-2",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>Q(e.productId._id,e.variantId?._id,e.quantity+1),className:"px-4 py-2 border text-define-black border-gray-200 rounded-full hover:bg-gray-100",children:"+"})]})]}),(0,t.jsxs)("div",{className:"flex-1 flex flex-col justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-[18px] text-define-brown",children:e.productId.name}),(0,t.jsx)("p",{className:"text-sm text-gray-500 pt-1",children:e.productId.variables?.map(e=>`${e.name}: ${e.values.join(", ")}`).join(" | ")}),(0,t.jsx)("p",{className:"mt-2 text-sm text-define-black line-clamp-1",dangerouslySetInnerHTML:{__html:e.productId.shortDescription}}),(0,t.jsxs)("p",{className:"mt-2 font-bold text-define-red text-lg",children:[(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),o.toFixed(0),(0,t.jsxs)("span",{className:"line-through text-gray-400 text-sm ml-3",children:[(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),c.toFixed(0)]}),(0,t.jsxs)("span",{className:"text-define-red text-[13px] ml-2 font-normal",children:[e.productId.discount,"% OFF"]})]}),n?(0,t.jsx)("div",{className:"mt-2 px-3 w-fit py-1 bg-red-100 text-red-700 text-xs rounded-full font-medium",children:"Out of Stock"}):"low"===s?(0,t.jsxs)("div",{className:"mt-2 px-3 py-1 w-fit bg-orange-100 text-orange-700 text-xs rounded-full font-medium",children:["Only ",i," left"]}):null]}),(0,t.jsxs)("div",{className:"md:flex hidden gap-4 justify-evenly md:justify-start pt-4 lg:pt-0 md:pb-2 lg:pb-0",children:[(0,t.jsx)("button",{className:"font-bold hover:text-define-brown text-define-black text-sm lg:text-lg lg:px-6 lg:py-2 ",onClick:()=>X(e),children:"MOVE TO WISHLIST"}),(0,t.jsx)("button",{onClick:()=>Z(e),className:"font-semibold text-define-black hover:text-define-red text-sm lg:text-lg lg:px-6 lg:py-2",children:"REMOVE"})]})]}),(0,t.jsxs)("div",{className:"flex md:hidden items-center gap-4 mt-3 w-full",children:[(0,t.jsxs)("div",{className:"flex lg:hidden items-center border border-gray-200 rounded-md overflow-hidden h-10",children:[(0,t.jsx)("button",{onClick:()=>Q(e.productId._id,e.variantId?._id,e.quantity-1),className:"px-2 h-full bg-gray-50 text-define-black hover:bg-gray-200 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",disabled:e.quantity<=1||n,children:"−"}),(0,t.jsx)("span",{className:"px-3 h-full flex items-center justify-center text-sm font-semibold text-define-black border-x border-gray-200 min-w-10",children:e.quantity}),(0,t.jsx)("button",{onClick:()=>Q(e.productId._id,e.variantId?._id,e.quantity+1),className:`px-2 h-full transition-colors ${l&&!n?"bg-gray-50 text-define-black hover:bg-gray-200":"bg-gray-100 text-gray-400 cursor-not-allowed"}`,disabled:!l||n,children:"+"})]}),(0,t.jsx)("button",{className:`h-[40px]    text-xs font-bold tracking-wide uppercase transition-all duration-200 flex items-center justify-center
      ${n?"border-gray-200 text-gray-400 cursor-not-allowed bg-gray-50":"border-gray-300 text-define-black hover:border-define-brown hover:text-define-brown"}`,onClick:()=>X(e),disabled:n,children:"MOVE TO WISHLIST"}),(0,t.jsx)("button",{onClick:()=>Z(e),className:`h-[40px]   text-xs  font-bold tracking-wide uppercase transition-all duration-200 flex items-center justify-center
      ${n?"border-gray-200 text-red-300":"border-gray-300 text-define-black hover:border-red-500 hover:text-red-600 hover:bg-red-50"}`,children:"Remove"})]})]},e.productId._id)})]}),(0,t.jsxs)("div",{className:"bg-white border border-gray-200 rounded-md p-4 h-fit sticky top-24 self-start",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"font-semibold text-define-black border-b border-gray-200 pb-2",children:"Have a Coupon Code?"}),(0,t.jsxs)("div",{className:"flex items-center gap-3 mt-4",children:[(0,t.jsx)("input",{value:M,onChange:e=>E(e.target.value),placeholder:"Enter coupon code",className:"flex-1 border text-define-black placeholder:text-define-black border-gray-200 rounded-full px-4 py-2 text-sm outline-none"}),(0,t.jsx)("button",{onClick:()=>{x?(f(null),E(""),g(0),j("")):(()=>{let t=e.find(e=>e.code.toLowerCase()===M.toLowerCase());if(!t){j("Invalid or ineligible coupon"),g(0),f(null);return}et(t)})()},className:`rounded-full px-6 py-2 text-sm font-medium whitespace-nowrap transition
    ${x?"border border-red-500 text-red-500 hover:bg-red-50":"border border-define-brown text-define-brown hover:bg-red-50"}`,children:x?"Remove":"Apply"})]})]}),e.length>0&&(0,t.jsx)("div",{className:"relative mt-3",children:(0,t.jsx)("div",{className:"flex overflow-x-auto scroll-smooth snap-x snap-mandatory custom-scroll py-2 gap-2",children:e.filter(e=>!1!==e.status&&e.usageLimit>0).map(e=>(0,t.jsx)("div",{className:"min-w-full snap-center px-1",children:(0,t.jsxs)("button",{onClick:()=>{E(e.code),et(e)},className:"w-full border  flex flex-col gap-2 justify-between border-define-red text-define-red rounded-xl px-4 py-3 text-sm font-medium hover:bg-red-50 transition text-center",children:[(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"Tap to apply"})]})},e.code))})}),(0,t.jsxs)("div",{className:"text-sm space-y-3 mt-5 text-define-black",children:[(0,t.jsx)("h2",{className:"font-semibold text-lg",children:"Order Summary"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsxs)("span",{children:["Price (",V," items)"]}),(0,t.jsxs)("span",{children:[(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),U.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Discount"}),(0,t.jsxs)("span",{className:"text-define-red",children:["-",(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),H.toLocaleString()]})]}),b>0&&(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("span",{children:"Coupon Discount"}),(0,t.jsxs)("span",{className:"text-define-red",children:["-",(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),b.toLocaleString()]})]}),(0,t.jsxs)("div",{className:"flex justify-between font-semibold text-lg border-t border-gray-200 text-define-black pt-3",children:[(0,t.jsx)("span",{children:"Total Amount"}),(0,t.jsxs)("span",{children:[(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),ea.toLocaleString()]})]})]}),(0,t.jsx)("button",{onClick:G,disabled:Y||J<=0||!q,className:`mt-6 w-full rounded-full py-3 text-white font-semibold hover:scale-[1.03] transition-all duration-200 flex items-center justify-center ${Y||J<=0||!q?"bg-gray-400 cursor-not-allowed from-gray-400 to-gray-500":"btn-grad"}`,children:Y?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"w-5 h-5 mr-2",children:(0,t.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})})}),"Remove out-of-stock items to pay"]}):J<=0?"Empty Cart":q?(0,t.jsxs)(t.Fragment,{children:["Pay"," ",(0,t.jsx)(u.FaRupeeSign,{className:"inline"}),Math.max(J-b,0).toLocaleString()," ","Now"]}):"Select Address First"})]}),_&&(0,t.jsx)(p,{onClose:()=>D(!1),onSuccess:async e=>{await T(),sessionStorage.setItem("SELECTED_ADDRESS_ID",e),S(e),k(!1),D(!1)}})]}):(0,t.jsx)("div",{className:"bg-white p-6 rounded-md text-center text-gray-500",children:"Your cart is empty"})}e.s(["default",()=>f],78211)}]);